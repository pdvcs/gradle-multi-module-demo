apply plugin: 'java'
apply plugin: 'application'

sourceCompatibility = 1.7
version = '1.0'
mainClassName = 'net.pdutta.proto.harnesses.GreetingHarness'

dependencies {
    compile project(':Greeter')
}
sourceSets {
    main {
        java {
            srcDir 'src/main'
        }
    }
}

task cleanDist (dependsOn: distZip) << {
    ant.delete(includeEmptyDirs: 'true') {
        fileset(dir: 'build', excludes: 'distributions/**')
    }
    ant.delete(includeEmptyDirs: 'true', dir: project.rootProject.childProjects['Greeter'].buildDir)
}
cleanDist.description = "Creates a distribution-ready zip (including supporting JARs) for the project and cleans up."
